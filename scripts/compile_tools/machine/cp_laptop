#

# Compile command: make -j 10  machine="cp_laptop" config="gpu_nvidia detailed_timers verbose"




SMILEICXX.DEPS = g++ -I/local/home/cprouveur/tools/hdfsrc/install/include/
#GPU_COMPILER = nvcc

CXXFLAGS += -w
CXXFLAGS += -acc=gpu -gpu=cc86,fastmath -std=c++14  -lcurand -Minfo=accel # what is offloaded/copied
# CXXFLAGS += -Minfo=all   # very verbose output
CXXFLAGS += -D__GCC_ATOMIC_TEST_AND_SET_TRUEVAL=1


GPU_COMPILER_FLAGS += -O3 --std c++14 -arch=sm_86 -I/opt/nvidia/hpc_sdk/Linux_x86_64/23.11/comm_libs/12.3/openmpi4/openmpi-4.1.5/include -I/local/home/cprouveur/tools/hdfsrc/install/include/ 
GPU_COMPILER_FLAGS += --expt-relaxed-constexpr

LDFLAGS += -acc=gpu -gpu=cc86  -cudalib=curand  # ccnative also works
